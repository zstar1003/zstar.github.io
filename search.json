[{"title":"Hexoå»ºç«™æµç¨‹å…¨è®°å½•","url":"/2023/02/16/hello-world/","content":"å»ºç«™ç¼˜ç”±"},{"title":"Qç¾¤æœºå™¨äºº","url":"/2023/02/16/article1/","content":"\næœ€è¿‘OpenAiæ¨å‡ºçš„ChatGPTç«å‡ºNLPåœˆå­ï¼Œçœ‹åˆ°ä¸å°‘äººè¯´å¼ºäººå·¥æ™ºèƒ½å·²ç»å‡ºç°ï¼Œäºæ˜¯èµ¶ç´§æ¥ä½“éªŒæ„Ÿå—ä¸€ä¸‹ã€‚è¯¥é¡¹ç›®è®¡åˆ’é•¿æœŸè¿›è¡Œç»´æŠ¤æ›´æ–°ï¼Œæ¬¢è¿starï¼šhttps://github.com/zstar1003/Qbot\n\nChatGPTç®€ä»‹ChatGPTæ˜¯ä¸€ä¸ªåŸºäºGPT-3ï¼ˆé€šç”¨è¯­è¨€æ¨¡å‹ï¼‰çš„èŠå¤©æœºå™¨äººã€‚å®ƒçš„ç›®çš„æ˜¯èƒ½å¤Ÿé€šè¿‡è‡ªç„¶è¯­è¨€äº¤æµä¸ç”¨æˆ·è¿›è¡Œå¯¹è¯ã€‚å®ƒèƒ½å¤Ÿç†è§£ç”¨æˆ·çš„è¾“å…¥ï¼Œå¹¶æ ¹æ®ç”¨æˆ·çš„è¯è¯­ç”Ÿæˆç›¸åº”çš„å›å¤ã€‚\nè¿™ç§æŠ€æœ¯çš„å‡ºç°ï¼Œæ ‡å¿—ç€äººå·¥æ™ºèƒ½åœ¨è‡ªç„¶è¯­è¨€å¤„ç†æ–¹é¢å–å¾—äº†æ–°çš„çªç ´ã€‚GPT-3æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å¤§è§„æ¨¡çš„è¯­è¨€æ¨¡å‹ï¼Œå®ƒè¢«è®­ç»ƒåœ¨æ•°ç™¾ä¸‡ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸Šï¼Œå› æ­¤å…·æœ‰éå¸¸å¼ºå¤§çš„è¯­è¨€ç†è§£èƒ½åŠ›ã€‚é€šè¿‡åœ¨GPT-3çš„åŸºç¡€ä¸Šæ„å»ºChatGPTï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ä¸€ä¸ªèƒ½å¤Ÿä¸äººè¿›è¡Œè‡ªç„¶è¯­è¨€å¯¹è¯çš„æœºå™¨äººï¼Œå®ƒèƒ½å¤Ÿä¸äººç±»çš„å¯¹è¯æ–¹å¼éå¸¸ç›¸ä¼¼ã€‚\nChatGPTçš„ä¼˜åŠ¿åœ¨äºå®ƒèƒ½å¤Ÿè¿›è¡Œæµç•…çš„å¯¹è¯ï¼Œå¹¶èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„è¾“å…¥è‡ªåŠ¨ç”Ÿæˆåˆé€‚çš„å›å¤ã€‚å®ƒèƒ½å¤Ÿç†è§£è¯­å¢ƒï¼Œå› æ­¤å¯ä»¥æä¾›æ›´å‡†ç¡®ã€æ›´æœ‰å¸®åŠ©çš„å›å¤ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜å…·æœ‰è¯­è¨€è¡¨è¾¾èƒ½åŠ›ï¼Œå¯ä»¥ä½¿ç”¨æ­£ç¡®çš„è¯­æ³•å’Œè¯­è¨€é£æ ¼è¿›è¡Œå¯¹è¯ã€‚\n\nå®é™…ä¸Šï¼Œä¸Šé¢ä¸‰æ®µæ–‡å­—å®Œå…¨ç”±ChatGPTè‡ªå·±è¿›è¡Œç”Ÿæˆï¼Œå¦‚æœä½ æ²¡å¯Ÿè§‰åˆ°å¼‚å¸¸ï¼Œè¯´æ˜å®ƒå·²ç»é€šè¿‡äº†â€œå›¾çµæµ‹è¯•â€ã€‚\n\nç›®å‰ï¼ŒChatGPTæ²¡æœ‰å¼€æºï¼Œåªèƒ½é€šè¿‡OpenAiæä¾›çš„æµ‹è¯•ç•Œé¢è°ƒè¯•ï¼Œ\nChatGPTå®˜ç½‘ï¼šhttps://chat.openai.com/chatæ³¨ï¼š2022-12-12 OpenAiå¢åŠ äº†5ç§’çš„cloudflareå¹¶ä¸”å¤§å¹…ç¼©çŸ­äº†tokençš„å­˜æ´»æ—¶é—´(åŸ24å°æ—¶ç¼©çŸ­ä¸º2å°æ—¶)ï¼Œå¯¼è‡´ç›®å‰å›½å†…çš„ä¸€äº›é•œåƒç«™å‡æ— æ³•ä½¿ç”¨ã€‚\nChatGPTåŸç†ç›®å‰ChatGPTæ²¡æœ‰ç›¸å…³çš„è®ºæ–‡å’Œå¼€æºä»£ç ï¼Œå…·OpenAiå®˜æ–¹æ‰€è¿°ï¼ŒChatGPTæ˜¯åœ¨GPT3.5æ¶æ„çš„åŸºç¡€ä¸ŠåŠ å…¥äº†RLHF(Reinforcement Learning from Human Feedbackï¼Œäººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ )ã€‚\n\nChatGPTé‡‡ç”¨äº†InstructGPTçš„æ¡†æ¶ï¼ŒInstructGPTçš„è®ºæ–‡ï¼šhttps://arxiv.org/pdf/2203.02155.pdf\næ•´ä½“è®­ç»ƒè¿‡ç¨‹åˆ†æˆä¸‰ä¸ªè¿‡ç¨‹ï¼šç›‘ç£å­¦ä¹ ã€è®­ç»ƒå¥–åŠ±æ¨¡å‹ã€å¼•å…¥å¼ºåŒ–å­¦ä¹ è¿­ä»£æ¨¡å‹ã€‚\n\nChatGPTéƒ¨ç½²1.æ³¨å†Œè´¦å·é¦–å…ˆéœ€è¦æ³¨å†ŒOpenAiçš„è´¦å·ï¼Œè´¦å·æ³¨å†Œä½¿ç”¨è‡ªå·±çš„é‚®ç®±ï¼Œå¢ƒå†…æ‰‹æœºå·éªŒè¯æ— æ³•é€šè¿‡ï¼Œå¯ä»¥ä½¿ç”¨åˆ«çš„æ¥ç å¹³å°ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯sms(https://sms-activate.org/cn/cashBack)ï¼Œå…·ä½“æ“ä½œæ­¥éª¤å¾ˆå¤šåšæ–‡éƒ½æœ‰æåˆ°ï¼Œä¸åšèµ˜è¿°ã€‚\n2.è·å–ç•Œé¢ä¿¡æ¯è¿›å…¥åˆ°ä¼šè¯ç•Œé¢åï¼ŒæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåœ¨æ­¤å¤„æå–å¹¶è®°å½•session_tokenï¼š\n\nåŒæ ·çš„ä½ç½®æå–å¹¶è®°å½•cf_clearanceï¼š\n\næœ€åï¼Œè¿˜éœ€è¦æå–å¹¶è®°å½•user-agentï¼Œè¿™é‡Œéšä¾¿æ‰¾ä¸€ä¸ªæ•°æ®åŒ…éƒ½èƒ½å¤Ÿæ‰¾åˆ°è¿™ä¸ªå€¼\n\n3.è°ƒç”¨æµ‹è¯•ChatGPTå®˜æ–¹æœ‰æä¾›ç”¨äºè°ƒç”¨çš„APIï¼Œä¸è¿‡è¯•ç”¨æ¬¡æ•°å¾ˆå°‘ï¼Œåç»­ä½¿ç”¨ä»·æ ¼æ˜‚è´µã€‚å®˜æ–¹APIæ–‡æ¡£ï¼šhttps://beta.openai.com/docs/api-reference/completions/create?lang=pythonè°ƒç”¨éœ€è¦è®¾ç½®è‡ªå·±çš„å¯†é’¥ï¼šhttps://beta.openai.com/account/api-keys\nåœ¨Githubä¸Šï¼Œæœ‰å¾ˆå¤šå¼€æºçš„é¡¹ç›®æä¾›äº†å¾ˆå¤šéå®˜æ–¹çš„è°ƒç”¨åº“ï¼Œæˆ‘å¯¹äºPythonæœ€ä¸ºç†Ÿæ‚‰ï¼Œå› æ­¤ä½¿ç”¨äº†è¿™ä¸ªåº“https://github.com/acheong08/ChatGPT\nå®‰è£…æ–¹å¼ï¼š\npip3 install revChatGPT --upgrade\n\nå®‰è£…å®Œä¹‹åï¼Œé€šè¿‡ä¸‹é¢çš„ç¨‹åºè¿›è¡Œæµ‹è¯•ï¼š\nfrom revChatGPT.revChatGPT import Chatbotconfig = &#123;    &quot;session_token&quot;: &quot;ä¸Šä¸€æ­¥çš„session_token&quot;,    &quot;cf_clearance&quot;: &quot;ä¸Šä¸€æ­¥çš„cf_clearance&quot;,    &quot;user_agent&quot;: &quot;ä¸Šä¸€æ­¥çš„user_agent&quot;&#125;# åˆ›å»ºChatGPTå®ä¾‹chatbot = Chatbot(config, conversation_id=None, debug=True)message = chatbot.get_chat_response(&#x27;ä½ å¥½&#x27;, output=&quot;text&quot;)print(message[&#x27;message&#x27;])\n\nè¿™é‡Œçš„å‚æ•°ä¿®æ”¹ä¸ºä¸Šä¸€æ­¥è·å–åˆ°çš„å‚æ•°ã€‚\nå¦‚æœä½¿ç”¨æ­£å¸¸ï¼Œä¼šè¾“å‡ºå¦‚ä¸‹ç»“æœï¼š\n\n4.QQæœºå™¨äººæ­å»ºé¦–å…ˆå¾—æœ‰ä¸ªå°å·ï¼Œç”¨äºæ­å»ºæœºå™¨äººã€‚å…¶æ¬¡éœ€è¦é€‰æ‹©QQæœºå™¨äººçš„æ¡†æ¶ï¼Œç›®å‰Githubä¸Šä¹Ÿæœ‰å¾ˆå¤šé€‰æ‹©ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨go-cqhttpè¿™ä¸ªæ¡†æ¶ã€‚\nè¯¥æ¡†æ¶æ”¯æŒwindowså’Œlinuxï¼Œæˆ‘åœ¨æœ¬æœºä¸Šè¿›è¡Œéƒ¨ç½²ï¼Œå› æ­¤é€‰æ‹©äº†64ä½windowsç‰ˆæœ¬ã€‚ä¸‹è½½é“¾æ¥ï¼šhttps://github.com/Mrs4s/go-cqhttp/releases/download/v1.0.0-rc3/go-cqhttp_windows_amd64.exe\nåŒå‡»è¿è¡Œä¹‹åï¼Œé€‰æ‹©3.æ­£å‘ä»£ç†ï¼Œä¹‹åä¼šäº§ç”Ÿä¸€ç³»åˆ—æ–‡ä»¶ã€‚\né…ç½®æ–‡ä»¶config.ymlä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼š\n# go-cqhttp é»˜è®¤é…ç½®æ–‡ä»¶account: # è´¦å·ç›¸å…³  uin: QQå°å· # QQè´¦å·  password: &#x27;&#x27; # QQå¯†ç   encrypt: false  # æ˜¯å¦å¼€å¯å¯†ç åŠ å¯†  status: 0      # åœ¨çº¿çŠ¶æ€ è¯·å‚è€ƒ https://docs.go-cqhttp.org/guide/config.html#åœ¨çº¿çŠ¶æ€  relogin: # é‡è¿è®¾ç½®    delay: 3   # é¦–æ¬¡é‡è¿å»¶è¿Ÿ, å•ä½ç§’    interval: 3   # é‡è¿é—´éš”    max-times: 0  # æœ€å¤§é‡è¿æ¬¡æ•°, 0ä¸ºæ— é™åˆ¶  # æ˜¯å¦ä½¿ç”¨æœåŠ¡å™¨ä¸‹å‘çš„æ–°åœ°å€è¿›è¡Œé‡è¿  # æ³¨æ„, æ­¤è®¾ç½®å¯èƒ½å¯¼è‡´åœ¨æµ·å¤–æœåŠ¡å™¨ä¸Šè¿æ¥æƒ…å†µæ›´å·®  use-sso-address: true  # æ˜¯å¦å…è®¸å‘é€ä¸´æ—¶ä¼šè¯æ¶ˆæ¯  allow-temp-session: falseheartbeat:  # å¿ƒè·³é¢‘ç‡, å•ä½ç§’  # -1 ä¸ºå…³é—­å¿ƒè·³  interval: -1message:  # ä¸ŠæŠ¥æ•°æ®ç±»å‹  # å¯é€‰: string,array  post-format: string  # æ˜¯å¦å¿½ç•¥æ— æ•ˆçš„CQç , å¦‚æœä¸ºå‡å°†åŸæ ·å‘é€  ignore-invalid-cqcode: false  # æ˜¯å¦å¼ºåˆ¶åˆ†ç‰‡å‘é€æ¶ˆæ¯  # åˆ†ç‰‡å‘é€å°†ä¼šå¸¦æ¥æ›´å¿«çš„é€Ÿåº¦  # ä½†æ˜¯å…¼å®¹æ€§ä¼šæœ‰äº›é—®é¢˜  force-fragment: false  # æ˜¯å¦å°†urlåˆ†ç‰‡å‘é€  fix-url: false  # ä¸‹è½½å›¾ç‰‡ç­‰è¯·æ±‚ç½‘ç»œä»£ç†  proxy-rewrite: &#x27;&#x27;  # æ˜¯å¦ä¸ŠæŠ¥è‡ªèº«æ¶ˆæ¯  report-self-message: false  # ç§»é™¤æœåŠ¡ç«¯çš„Replyé™„å¸¦çš„At  remove-reply-at: false  # ä¸ºReplyé™„åŠ æ›´å¤šä¿¡æ¯  extra-reply-data: false  # è·³è¿‡ Mime æ‰«æ, å¿½ç•¥é”™è¯¯æ•°æ®  skip-mime-scan: falseoutput:  # æ—¥å¿—ç­‰çº§ trace,debug,info,warn,error  log-level: warn  # æ—¥å¿—æ—¶æ•ˆ å•ä½å¤©. è¶…è¿‡è¿™ä¸ªæ—¶é—´ä¹‹å‰çš„æ—¥å¿—å°†ä¼šè¢«è‡ªåŠ¨åˆ é™¤. è®¾ç½®ä¸º 0 è¡¨ç¤ºæ°¸ä¹…ä¿ç•™.  log-aging: 15  # æ˜¯å¦åœ¨æ¯æ¬¡å¯åŠ¨æ—¶å¼ºåˆ¶åˆ›å»ºå…¨æ–°çš„æ–‡ä»¶å‚¨å­˜æ—¥å¿—. ä¸º false çš„æƒ…å†µä¸‹å°†ä¼šåœ¨ä¸Šæ¬¡å¯åŠ¨æ—¶åˆ›å»ºçš„æ—¥å¿—æ–‡ä»¶ç»­å†™  log-force-new: true  # æ˜¯å¦å¯ç”¨æ—¥å¿—é¢œè‰²  log-colorful: true  # æ˜¯å¦å¯ç”¨ DEBUG  debug: false # å¼€å¯è°ƒè¯•æ¨¡å¼# é»˜è®¤ä¸­é—´ä»¶é”šç‚¹default-middlewares: &amp;default  # è®¿é—®å¯†é’¥, å¼ºçƒˆæ¨èåœ¨å…¬ç½‘çš„æœåŠ¡å™¨è®¾ç½®  access-token: &#x27;&#x27;  # äº‹ä»¶è¿‡æ»¤å™¨æ–‡ä»¶ç›®å½•  filter: &#x27;&#x27;  # APIé™é€Ÿè®¾ç½®  # è¯¥è®¾ç½®ä¸ºå…¨å±€ç”Ÿæ•ˆ  # åŸ cqhttp è™½ç„¶å¯ç”¨äº† rate_limit åç¼€, ä½†æ˜¯åŸºæœ¬æ²¡æ’ä»¶é€‚é…  # ç›®å‰è¯¥é™é€Ÿè®¾ç½®ä¸ºä»¤ç‰Œæ¡¶ç®—æ³•, è¯·å‚è€ƒ:  # https://baike.baidu.com/item/%E4%BB%A4%E7%89%8C%E6%A1%B6%E7%AE%97%E6%B3%95/6597000?fr=aladdin  rate-limit:    enabled: false # æ˜¯å¦å¯ç”¨é™é€Ÿ    frequency: 1  # ä»¤ç‰Œå›å¤é¢‘ç‡, å•ä½ç§’    bucket: 1     # ä»¤ç‰Œæ¡¶å¤§å°database: # æ•°æ®åº“ç›¸å…³è®¾ç½®  leveldb:    # æ˜¯å¦å¯ç”¨å†…ç½®leveldbæ•°æ®åº“    # å¯ç”¨å°†ä¼šå¢åŠ 10-20MBçš„å†…å­˜å ç”¨å’Œä¸€å®šçš„ç£ç›˜ç©ºé—´    # å…³é—­å°†æ— æ³•ä½¿ç”¨ æ’¤å› å›å¤ get_msg ç­‰ä¸Šä¸‹æ–‡ç›¸å…³åŠŸèƒ½    enable: true  # åª’ä½“æ–‡ä»¶ç¼“å­˜ï¼Œ åˆ é™¤æ­¤é¡¹åˆ™ä½¿ç”¨ç¼“å­˜æ–‡ä»¶(æ—§ç‰ˆè¡Œä¸º)  cache:    image: data/image.db    video: data/video.db# è¿æ¥æœåŠ¡åˆ—è¡¨servers:  # æ·»åŠ æ–¹å¼ï¼ŒåŒä¸€è¿æ¥æ–¹å¼å¯æ·»åŠ å¤šä¸ªï¼Œå…·ä½“é…ç½®è¯´æ˜è¯·æŸ¥çœ‹æ–‡æ¡£  #- http: # http é€šä¿¡  #- ws:   # æ­£å‘ Websocket  #- ws-reverse: # åå‘ Websocket  #- pprof: #æ€§èƒ½åˆ†ææœåŠ¡å™¨  - http: # HTTP é€šä¿¡è®¾ç½®      address: 0.0.0.0:8700 # HTTPç›‘å¬åœ°å€      timeout: 5      # åå‘ HTTP è¶…æ—¶æ—¶é—´, å•ä½ç§’ï¼Œ&lt;5 æ—¶å°†è¢«å¿½ç•¥      long-polling:   # é•¿è½®è¯¢æ‹“å±•        enabled: false       # æ˜¯å¦å¼€å¯        max-queue-size: 2000 # æ¶ˆæ¯é˜Ÿåˆ—å¤§å°ï¼Œ0 è¡¨ç¤ºä¸é™åˆ¶é˜Ÿåˆ—å¤§å°ï¼Œè°¨æ…ä½¿ç”¨      middlewares:        &lt;&lt;: *default # å¼•ç”¨é»˜è®¤ä¸­é—´ä»¶      post:           # åå‘HTTP POSTåœ°å€åˆ—è¡¨      #- url: &#x27;&#x27;                # åœ°å€      #  secret: &#x27;&#x27;             # å¯†é’¥      #  max-retries: 3         # æœ€å¤§é‡è¯•ï¼Œ0 æ—¶ç¦ç”¨      #  retries-interval: 1500 # é‡è¯•æ—¶é—´ï¼Œå•ä½æ¯«ç§’ï¼Œ0 æ—¶ç«‹å³      - url: http://127.0.0.1:7777/ # åœ°å€        secret: &#x27;&#x27;                  # å¯†é’¥        max-retries: 0             # æœ€å¤§é‡è¯•ï¼Œ0 æ—¶ç¦ç”¨        retries-interval: 1000      # é‡è¯•æ—¶é—´ï¼Œå•ä½æ¯«ç§’ï¼Œ0 æ—¶ç«‹å³\nå…¶ä¸­ï¼ŒQQè´¦å·æ›¿æ¢ä¸ºè‡ªå·±çš„å°å·ã€‚\nè®¾ç½®å®Œåï¼Œç‚¹å‡»go-cqhttp.batï¼Œå¼¹å‡ºäºŒç»´ç è¿›è¡Œæ‰«ç ç™»å½•å³å¯ã€‚\n5.åç«¯é€»è¾‘åœ¨ä¸Šä¸€æ­¥ä¸­ï¼Œè®¾ç½®äº†QQæœºå™¨äººç›‘å¬æœ¬æœº7777è¿™ä¸ªç«¯å£ç”¨æ¥å‘é€ä¿¡æ¯ï¼Œ8700è¿™ä¸ªç«¯å£ç”¨æ¥æ¥æ”¶ä¿¡æ¯ã€‚è¿™ä¸€æ­¥éœ€è¦é‡‡ç”¨ä¸€ä¸ªåç«¯æ¡†æ¶æ¥å¤„ç†å’Œå‘é€ä¿¡æ¯ã€‚è¿™é‡Œå‚è€ƒ[2]çš„æä¾›çš„æ–¹æ¡ˆï¼Œé‡‡ç”¨è½»é‡åŒ–çš„Flaskä½œä¸ºåç«¯æ¡†æ¶ã€‚\né¦–å…ˆéœ€è¦å®‰è£…ç¯å¢ƒä¾èµ–ï¼Œæ–°å»ºrequirements.txtï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š\ncertifi==2022.12.7charset-normalizer==2.1.1click==8.1.3Flask==2.2.2idna==3.4importlib-metadata==5.1.0itsdangerous==2.1.2Jinja2==3.1.2MarkupSafe==2.1.1OpenAIAuth==0.0.3.1PyMySQL==1.0.2requests==2.28.1tls-client==0.1.5urllib3==1.26.13Werkzeug==2.2.2zipp==3.11.0\nåœ¨pythonç¯å¢ƒä¸­å®‰è£…ä¸Šè¿°ä¾èµ–ï¼š\npip install -r requirements.txt\n\nå®‰è£…åï¼Œç¼–å†™åç«¯ç¨‹åº\nimport jsonimport requestsfrom flask import request, Flaskfrom revChatGPT.revChatGPT import Chatbotcqhttp_url = &quot;http://localhost:8700&quot;  # CQ-httpåœ°å€qq_no = &quot;è‡ªå·±çš„QQå·&quot; # æœºå™¨äººQQå·ï¼Œè®°å¾—ä¿®æ”¹config = &#123;    &quot;session_token&quot;: &quot;ä¸Šä¸€æ­¥çš„session_token&quot;,    &quot;cf_clearance&quot;: &quot;ä¸Šä¸€æ­¥çš„cf_clearance&quot;,    &quot;user_agent&quot;: &quot;ä¸Šä¸€æ­¥çš„user_agent&quot;&#125;# åˆ›å»ºä¸€ä¸ªæœåŠ¡ï¼ŒæŠŠå½“å‰è¿™ä¸ªpythonæ–‡ä»¶å½“åšä¸€ä¸ªæœåŠ¡server = Flask(__name__)# åˆ›å»ºChatGPTå®ä¾‹chatbot = Chatbot(config, conversation_id=None)# ä¸ChatGPTäº¤äº’çš„æ–¹æ³•def chat(msg):    try:        message = chatbot.get_chat_response(msg)[&#x27;message&#x27;]        # ä¸‹é¢è¿™è¡Œä»£ç æ˜¯è·å–å¯¹è¯idï¼Œå¦‚æœä½ éœ€è¦çš„è¯ï¼Œidå°±æ˜¯è¿™ä¹ˆè·å–çš„        # chatbot.conversation_id        print(&quot;ChatGPTè¿”å›å†…å®¹: &quot;)        print(message)        return message    except Exception as error:        return str(&#x27;åˆ«é—®äº†ï¼Œæˆ‘å¾—ä¼‘æ¯ä¸€ä¸‹äº†&#x27;)# æµ‹è¯•æ¥å£ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•ä¸ChatGPTçš„äº¤äº’æ˜¯å¦æ­£å¸¸ï¼Œç”¨æ¥æ’æŸ¥é—®é¢˜@server.route(&#x27;/chat&#x27;, methods=[&#x27;post&#x27;])def chatapi():    requestJson = request.get_data()    if requestJson is None or requestJson == &quot;&quot; or requestJson == &#123;&#125;:        resu = &#123;&#x27;code&#x27;: 1, &#x27;msg&#x27;: &#x27;è¯·æ±‚å†…å®¹ä¸èƒ½ä¸ºç©º&#x27;&#125;        return json.dumps(resu, ensure_ascii=False)    data = json.loads(requestJson)    print(data)    try:        msg = chat(data[&#x27;msg&#x27;])    except Exception as error:        print(&quot;æ¥å£æŠ¥é”™&quot;)        resu = &#123;&#x27;code&#x27;: 1, &#x27;msg&#x27;: &#x27;è¯·æ±‚å¼‚å¸¸: &#x27; + str(error)&#125;        return json.dumps(resu, ensure_ascii=False)    else:        resu = &#123;&#x27;code&#x27;: 0, &#x27;data&#x27;: msg&#125;        return json.dumps(resu, ensure_ascii=False)# æµ‹è¯•æ¥å£ï¼Œå¯ä»¥æµ‹è¯•æœ¬ä»£ç æ˜¯å¦æ­£å¸¸å¯åŠ¨@server.route(&#x27;/&#x27;, methods=[&quot;GET&quot;])def index():    return f&quot;ä½ å¥½ï¼ŒQQæœºå™¨äººé€»è¾‘å¤„ç†ç«¯å·²å¯åŠ¨&lt;br/&gt;&quot;# qqæ¶ˆæ¯ä¸ŠæŠ¥æ¥å£ï¼Œqqæœºå™¨äººç›‘å¬åˆ°çš„æ¶ˆæ¯å†…å®¹å°†è¢«ä¸ŠæŠ¥åˆ°è¿™é‡Œ@server.route(&#x27;/&#x27;, methods=[&quot;POST&quot;])def get_message():    if request.get_json().get(&#x27;message_type&#x27;) == &#x27;private&#x27;:  # å¦‚æœæ˜¯ç§èŠä¿¡æ¯        uid = request.get_json().get(&#x27;sender&#x27;).get(&#x27;user_id&#x27;)  # è·å–ä¿¡æ¯å‘é€è€…çš„ QQå·ç         message = request.get_json().get(&#x27;raw_message&#x27;)  # è·å–åŸå§‹ä¿¡æ¯        sender = request.get_json().get(&#x27;sender&#x27;)  # æ¶ˆæ¯å‘é€è€…çš„èµ„æ–™        print(&quot;æ”¶åˆ°ç§èŠæ¶ˆæ¯ï¼š&quot;)        print(message)        # ä¸‹é¢ä½ å¯ä»¥æ‰§è¡Œæ›´å¤šé€»è¾‘ï¼Œè¿™é‡Œåªæ¼”ç¤ºä¸ChatGPTå¯¹è¯        msg_text = chat(message)  # å°†æ¶ˆæ¯è½¬å‘ç»™ChatGPTå¤„ç†        send_private_message(uid, msg_text)  # å°†æ¶ˆæ¯è¿”å›çš„å†…å®¹å‘é€ç»™ç”¨æˆ·    if request.get_json().get(&#x27;message_type&#x27;) == &#x27;group&#x27;:  # å¦‚æœæ˜¯ç¾¤æ¶ˆæ¯        gid = request.get_json().get(&#x27;group_id&#x27;)  # ç¾¤å·        uid = request.get_json().get(&#x27;sender&#x27;).get(&#x27;user_id&#x27;)  # å‘è¨€è€…çš„qqå·        message = request.get_json().get(&#x27;raw_message&#x27;)  # è·å–åŸå§‹ä¿¡æ¯        # åˆ¤æ–­å½“è¢«@æ—¶æ‰å›ç­”        if str(&quot;[CQ:at,qq=%s]&quot;%qq_no) in message:            sender = request.get_json().get(&#x27;sender&#x27;)            print(&quot;æ”¶åˆ°ç¾¤èŠæ¶ˆæ¯ï¼š&quot;)            print(message)            # ä¸‹é¢ä½ å¯ä»¥æ‰§è¡Œæ›´å¤šé€»è¾‘ï¼Œè¿™é‡Œåªæ¼”ç¤ºä¸ChatGPTå¯¹è¯            msg_text = chat(message)  # å°†æ¶ˆæ¯è½¬å‘ç»™ChatGPTå¤„ç†            msg_text = str(&#x27;[CQ:at,qq=%s]\\n&#x27;%uid) + str(msg_text)  # @å‘è¨€äºº            send_group_message(gid, msg_text)  # å°†æ¶ˆæ¯è½¬å‘åˆ°ç¾¤é‡Œ    if request.get_json().get(&#x27;post_type&#x27;) == &#x27;request&#x27;:  # æ”¶åˆ°è¯·æ±‚æ¶ˆæ¯        print(&quot;æ”¶åˆ°è¯·æ±‚æ¶ˆæ¯&quot;)        request_type = request.get_json().get(&#x27;request_type&#x27;)  # group        uid = request.get_json().get(&#x27;user_id&#x27;)        flag = request.get_json().get(&#x27;flag&#x27;)        comment = request.get_json().get(&#x27;comment&#x27;)        if request_type == &quot;friend&quot;:            print(&quot;æ”¶åˆ°åŠ å¥½å‹ç”³è¯·&quot;)            print(&quot;QQï¼š&quot;, uid)            print(&quot;éªŒè¯ä¿¡æ¯&quot;, comment)            # falseæ‹’ç»ï¼Œä½ å¯ä»¥è‡ªå·±å†™é€»è¾‘åˆ¤æ–­æ˜¯å¦é€šè¿‡            set_friend_add_request(flag, &quot;false&quot;)        if request_type == &quot;group&quot;:            print(&quot;æ”¶åˆ°ç¾¤è¯·æ±‚&quot;)            sub_type = request.get_json().get(&#x27;sub_type&#x27;)  # ä¸¤ç§ï¼Œä¸€ç§çš„åŠ ç¾¤(å½“æœºå™¨äººä¸ºç®¡ç†å‘˜çš„æƒ…å†µä¸‹)ï¼Œä¸€ç§æ˜¯é‚€è¯·å…¥ç¾¤            gid = request.get_json().get(&#x27;group_id&#x27;)            if sub_type == &quot;add&quot;:                # å¦‚æœæœºå™¨äººæ˜¯ç®¡ç†å‘˜ï¼Œä¼šæ”¶åˆ°è¿™ç§è¯·æ±‚ï¼Œè¯·è‡ªè¡Œå¤„ç†                print(&quot;æ”¶åˆ°åŠ ç¾¤ç”³è¯·ï¼Œä¸è¿›è¡Œå¤„ç†&quot;)            elif sub_type == &quot;invite&quot;:                print(&quot;æ”¶åˆ°é‚€è¯·å…¥ç¾¤ç”³è¯·&quot;)                print(&quot;ç¾¤å·ï¼š&quot;, gid)                # falseæ‹’ç»ï¼Œä½ å¯ä»¥è‡ªå·±å†™é€»è¾‘åˆ¤æ–­æ˜¯å¦é€šè¿‡                set_group_invite_request(flag, &quot;false&quot;)    return &quot;ok&quot;# å‘é€ç§èŠæ¶ˆæ¯æ–¹æ³• uidä¸ºqqå·ï¼Œmessageä¸ºæ¶ˆæ¯å†…å®¹def send_private_message(uid, message):    try:        res = requests.post(url=cqhttp_url + &quot;/send_private_msg&quot;,                            params=&#123;&#x27;user_id&#x27;: int(uid), &#x27;message&#x27;: message&#125;).json()        if res[&quot;status&quot;] == &quot;ok&quot;:            print(&quot;ç§èŠæ¶ˆæ¯å‘é€æˆåŠŸ&quot;)        else:            print(res)            print(&quot;ç§èŠæ¶ˆæ¯å‘é€å¤±è´¥ï¼Œé”™è¯¯ä¿¡æ¯ï¼š&quot; + str(res[&#x27;wording&#x27;]))    except:        print(&quot;ç§èŠæ¶ˆæ¯å‘é€å¤±è´¥&quot;)# å‘é€ç¾¤æ¶ˆæ¯æ–¹æ³•def send_group_message(gid, message):    try:        res = requests.post(url=cqhttp_url + &quot;/send_group_msg&quot;,                            params=&#123;&#x27;group_id&#x27;: int(gid), &#x27;message&#x27;: message&#125;).json()        if res[&quot;status&quot;] == &quot;ok&quot;:            print(&quot;ç¾¤æ¶ˆæ¯å‘é€æˆåŠŸ&quot;)        else:            print(&quot;ç¾¤æ¶ˆæ¯å‘é€å¤±è´¥ï¼Œé”™è¯¯ä¿¡æ¯ï¼š&quot; + str(res[&#x27;wording&#x27;]))    except:        print(&quot;ç¾¤æ¶ˆæ¯å‘é€å¤±è´¥&quot;)# å¤„ç†å¥½å‹è¯·æ±‚def set_friend_add_request(flag, approve):    try:        requests.post(url=cqhttp_url + &quot;/set_friend_add_request&quot;, params=&#123;&#x27;flag&#x27;: flag, &#x27;approve&#x27;: approve&#125;)        print(&quot;å¤„ç†å¥½å‹ç”³è¯·æˆåŠŸ&quot;)    except:        print(&quot;å¤„ç†å¥½å‹ç”³è¯·å¤±è´¥&quot;)# å¤„ç†é‚€è¯·åŠ ç¾¤è¯·æ±‚def set_group_invite_request(flag, approve):    try:        requests.post(url=cqhttp_url + &quot;/set_group_add_request&quot;,                      params=&#123;&#x27;flag&#x27;: flag, &#x27;sub_type&#x27;: &#x27;invite&#x27;, &#x27;approve&#x27;: approve&#125;)        print(&quot;å¤„ç†ç¾¤ç”³è¯·æˆåŠŸ&quot;)    except:        print(&quot;å¤„ç†ç¾¤ç”³è¯·å¤±è´¥&quot;)if __name__ == &#x27;__main__&#x27;:    server.run(port=7777, host=&#x27;0.0.0.0&#x27;)\n\nè¿™é‡Œçš„QQå·ï¼Œconfigä¿¡æ¯æ›¿æ¢ä¸ºè‡ªå·±çš„å†…å®¹ã€‚\nè¿è¡Œä¹‹åï¼Œå°±éƒ¨ç½²å®Œæˆäº†ã€‚\nChatGPTè¯„ä»·å›åˆ°å¼€å¤´çš„é—®é¢˜ï¼ŒChatGPTç©¶ç«Ÿç®—ä¸ç®—å¼ºäººå·¥æ™ºèƒ½ï¼Ÿ\nä»¥å¾€NLPä¸­çš„æ¨¡å‹å¾€å¾€åªèƒ½å¤„ç†æ–‡æœ¬åˆ†ç±»ã€æ–‡æœ¬ç»­å†™ã€æ–‡æœ¬é£æ ¼è¿ç§»ç­‰å•ä¸€ä»»åŠ¡ï¼Œè€ŒChatGPTå´èƒ½å¤Ÿå¤„ç†å¤šä»»åŠ¡ï¼Œçš„ç¡®æ˜¯ä¸€å¤§çªç ´ã€‚ç„¶è€Œï¼Œåœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå®ƒä»æœ‰ä¸€äº›é—®é¢˜ï¼š\n\nä½¿ç”¨é€Ÿåº¦æ…¢ä½¿ç”¨é€Ÿåº¦æ…¢ä¸€æ–¹é¢æ˜¯ç”±äºå®˜æ–¹æœåŠ¡å™¨åŒæ—¶æ®µå¹¶å‘é‡å¤§ï¼Œå¦ä¸€æ–¹é¢æ˜¯GPTç±»çš„æ¨¡å‹æ˜¯ä¸€ä¸ªå­—ä¸€ä¸ªå­—çš„è¾“å‡ºï¼Œæ¯”å¦‚åœ¨å®˜ç½‘ä¸Šçœ‹åˆ°çš„æ˜¯ä¸€ä¸ªå­—ä¸€ä¸ªå­—åå‡ºæ¥ï¼Œè€Œä¸æ˜¯ä¸€æ•´å¥è¯ã€‚å¦‚æœæ’å…¥åˆ°QQæœºå™¨äººå›å¤ä¸­ï¼Œéœ€è¦ç­‰å¾…å…¶å°†æ‰€æœ‰å†…å®¹è¾“å‡ºå®Œå†ä¸€å¹¶å‘é€ã€‚å†…å®¹è¶Šå¤šï¼Œç­‰å¾…æ—¶é—´è¶Šä¹…ã€‚\nå¤ªè¿‡â€œè‡ªä¿¡â€ChatGPTå¾ˆåƒä¸€æœ¬ç™¾ç§‘å…¨ä¹¦ï¼Œå¯¹äºæœªçŸ¥çš„ä¸œè¥¿ï¼Œå®ƒä»ç„¶ä¼šâ€œä¹ æƒ¯æ€§â€åœ°å»åšè§£é‡Šï¼Œç”šè‡³ï¼Œå®ƒå¾ˆå®¹æ˜“è¢«ä¸€äº›å…³é”®è¯æ‰€è¯¯å¯¼ã€‚æ¯”å¦‚ï¼Œä¸‹å›¾ä¸­ç¾¤å‹å¯¹å®ƒè¿›è¡Œçš„æµ‹è¯•ï¼š\n\n\n\næ— æ³•è·å–æœ€æ–°ä¿¡æ¯ChatGPTæ˜¯é€šè¿‡2021å¹´ä»¥å‰çš„æ•°æ®è®­ç»ƒè€Œæ¥çš„ï¼Œå› æ­¤å®ƒæ— æ³•è·å–æœ€æ–°ä¿¡æ¯ï¼Œè¿™è®©å®ƒæ— æ³•å–ä»£æœç´¢å¼•æ“ã€‚\næ˜“è¢«å‚¬çœ æœ€åè¿™ç‚¹ï¼Œä¸å¤šåšè§£é‡Šï¼Œåœ¨ç¾¤å‹çš„å‚¬çœ ä¸‹ï¼Œå®ƒè¢«æˆåŠŸæ´—è„‘äº†ã€‚ã€‚\n\n\nTODDåç»­è®¡åˆ’åœ¨æ­¤æ¡†æ¶ä¸‹å¼€å‘æ›´å¤šå†…å®¹ï¼š\n\nconfigè‡ªåŠ¨è®¾ç½®ç›®å‰å®˜æ–¹ç•Œé¢çš„configä¸¤å°æ—¶ä¼šå¤±æ´»ï¼Œåç»­ä¼šæƒ³åŠæ³•è‡ªåŠ¨è¿›è¡Œè·å–è®¾ç½®\nåŠ å…¥å…¶å®ƒåŠŸèƒ½å¯èƒ½è€ƒè™‘æ·»åŠ Aiç»˜ç”»ç­‰åŠŸèƒ½\n\nåè®°â€” 2023-02-12æ›´\nä¸€æ®µæ—¶é—´æ²¡å…³æ³¨ChatGPTäº†ï¼Œæ²¡æƒ³åˆ°OpenAiå’Œå¾®è½¯åˆä½œä¹‹åï¼Œåˆæ€èµ·äº†ç¬¬äºŒæ³¢çƒ­æ½®ã€‚äºæ˜¯é‡æ–°åœ¨GitHubä¸Šæµè§ˆæœ€æ–°æ¶ˆæ¯ï¼Œå‘ç°æœ¬å·²å½’æ¡£çš„ChatGPTé€†å‘å·¥ç¨‹é¡¹ç›®åˆå¼€å§‹æ›´æ–°ï¼Œä½œè€…é‡‡ç”¨äº†ä»£ç†æ± çš„æ–¹å¼ï¼Œåœ¨æ­¤çªç ´äº†å®˜æ–¹çš„åœ°åŒºçš„å°é”ã€‚\näºæ˜¯æ›´æ–°äº†ä¸€ä¸‹ï¼š\npip3 install revChatGPT --upgrade\n\næ³¨ï¼šè¯¥ç‰ˆæœ¬éœ€è¦çš„è°·æ­Œæµè§ˆå™¨å†…æ ¸ç‰ˆæœ¬éœ€åœ¨110ä»¥ä¸Šï¼Œä½¿ç”¨å‰éœ€è¿›è¡Œæ›´æ–°ã€‚\n\nä¸‹é¢æ˜¯ä¸€ä¸ªæ–°ç‰ˆçš„è°ƒç”¨ç¤ºä¾‹ï¼š\nfrom revChatGPT.Unofficial import Chatbotchatbot = Chatbot(&#123;  &quot;email&quot;: &quot;è‡ªå·±çš„è´¦å·&quot;,  &quot;password&quot;: &quot;è‡ªå·±çš„å¯†ç &quot;&#125;, conversation_id=None, parent_id=None) # You can start a custom conversationresponse = chatbot.ask(&quot;ä½ å¥½&quot;, conversation_id=None, parent_id=None) # You can specify custom conversation and parent ids. Otherwise it uses the saved conversation (yes. conversations are automatically saved)print(response)\nç»å®æµ‹å‘ç°ï¼Œå¦‚æœä¸€åˆ†é’Ÿæ”¶åˆ°3ä¸ªè¯·æ±‚ä»¥ä¸Šå°±ä¼šè¢«é™åˆ¶ä¸€å®šæ—¶é—´ï¼Œå“åº”é€Ÿåº¦ä¹Ÿä¸åŠGPT3çš„Apiï¼Œä¸è¿‡ä¼˜åŠ¿åœ¨äºå…è´¹ï¼Œä¸é™åˆ¶è¾“å…¥é•¿åº¦ï¼Œä¸”æœ‰ä¸Šä¸‹æ–‡è®°å¿†(åˆå¯ä»¥å‚¬çœ äº†ğŸ˜„)\nå‚è€ƒ[1]ChatGPTæ˜¯æ€æ ·è¢«è®­ç»ƒå‡ºæ¥çš„ï¼Ÿhttps://www.bilibili.com/video/BV1BG4y137SH/[2]ä½¿ç”¨Pythonå¯¹æ¥OpenAi APi å®ç°æ™ºèƒ½QQæœºå™¨äºº https://lucent.blog/?p=99\n"}]